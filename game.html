<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div>
        <h1 class="value"></h1>
        <h1 class="suit"></h1>
    </div>
    <button card="0" class="button">Button</button>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

    <script>
        $(document).ready(function() {
            display();

            $("button").on('click', function() {
                display();
            })

            $.ajax({url: "https://higher-lower.code23.com/api/deck", 
            type: 'GET',
            crossDomain: true,
            dataType: 'json',
            headers: {  'Access-Control-Allow-Origin': 'https://higher-lower.code23.com' },
            success: function(result){
                shuffle(result);
            }});

            function shuffle(cards) {
                var currentIndex = cards.length, temporaryValue, randomIndex;

                while (0 !== currentIndex) {

                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;

                    temporaryValue = cards[currentIndex];
                    cards[currentIndex] = cards[randomIndex];
                    cards[randomIndex] = temporaryValue;
                }

                console.log(cards);
                localStorage.setItem('cards', JSON.stringify(cards));
            }

            function display() {
                var cards = localStorage.getItem('cards');
                var i = parseInt($("button").attr("card"));
                cards = JSON.parse(cards)
                
                $(".value").text(cards[i].value);
                $(".suit").text(cards[i].suit);
                $("button").attr("card", i + 1);
            }

        });
    </script>

</body>
</html>